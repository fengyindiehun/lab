objser = ser/server.o ser/ae.o ser/net.o ser/conhash.o ser/debug.o
server: $(objser)
	gcc $(objser) -o server
server.o: server.c ae.h net.h conhash.h debug.h
	gcc -g -c server.c
ae.o: ae.h
	gcc -g -c ae.c
net.o: net.h
	gcc -g -c net.c
conhash.o: conhash.h
	gcc -g -c conhash.c
debug.o: debug.h
	gcc -g -c debug.c

objcli = cli/client.o cli/net.o
client: $(objcli)
	gcc $(objcli) -o client
client.o: client.c net.h
	gcc -g -c client.c
net.o:net.h
	gcc -g -c net.c

.PHONY:clean
clean:
	-rm ser/*.o
